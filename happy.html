<!DOCTYPE html>
<html>
<head>
    <title>Happy - Mood Support</title>
    <link rel="stylesheet" href="happy.css">
</head>
<body>

    <div class="happy-container">

        <h1>âœ¨ You're Feeling Happy Today! âœ¨</h1>

        <p class="sub-heading">
            <strong>Thatâ€™s beautiful! ðŸ’›</strong><br>
            What made today special?
        </p>

        <p class="small-text">
            Take a moment to capture this happiness.<br>
            Future you will thank you.
        </p>

        <h3 class="journal-title">Journal This Moment âœ¨</h3>

        <!-- Prompt Grid -->
        <div class="prompt-grid">
            <div class="prompt-card">Who contributed to this happiness?</div>
            <div class="prompt-card">What small detail made this moment special?</div>
            <div class="prompt-card">What made you smile today?</div>
            <div class="prompt-card">What are you grateful for right now?</div>
        </div>

        <!-- Textarea -->
        <textarea placeholder="Write about your happy moment here...
No pressure. Just be honest. ðŸ’›"></textarea>
<!-- View Past Entries Button -->
<button class="view-btn">View Past Memories ðŸ“–</button>

<!-- Past Entries Section -->
<div class="past-entries" style="display:none;">
    <h3>Your Happy Memories ðŸ’›</h3>
    <div id="entriesList"></div>
</div>

        <!-- Save Button -->
        <button class="save-btn">Save This Memory ðŸ’¾</button>

    </div>

    <script>
       
document.querySelector(".save-btn").addEventListener("click", function() {

    const content = document.querySelector("textarea").value;

    fetch("https://mindmate-backend-nt6g.onrender.com//add_journal", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            mood: "happy",
            content: content
        })
    })
    .then(res => res.json())
    .then(data => {
        alert(data.message);
    });

});
document.querySelector(".view-btn").addEventListener("click", function() {

    fetch("https://mindmate-backend-nt6g.onrender.com//get_journals?mood=happy")
    .then(res => res.json())
    .then(data => {

        const container = document.querySelector(".past-entries");
        const list = document.getElementById("entriesList");

        list.innerHTML = "";

        if (data.length === 0) {
            list.innerHTML = "<p>No memories saved yet.</p>";
        } else {
            data.forEach(entry => {
                const div = document.createElement("div");
                div.classList.add("entry-card");
                div.innerText = entry.content;
                list.appendChild(div);
            });
        }

        container.style.display = "block";
    })
    .catch(error => {
        console.error("Error fetching entries:", error);
        alert("Could not load memories.");
    });

});

    </script>

</body>
</html>
