<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anger Release</title>

<style>

/* ===== Background ===== */
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #e6ded2;
    overflow-x: hidden;
}

body::before {
    content: "";
    position: fixed;
    width: 100%;
    height: 100%;
    background-image: radial-gradient(#f4b8b8 3px, transparent 3px);
    background-size: 120px 120px;
    opacity: 0.3;
    z-index: -1;
}

/* ===== Title ===== */
h1 {
    text-align: center;
    font-size: 48px;
    margin-top: 40px;
    color: red;
}

.subtitle {
    text-align: center;
    color: #4c5a67;
    margin-top: -10px;
}

/* ===== Layout ===== */
.main-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 60px;
    margin-top: 50px;
    padding: 20px;
}

/* ===== Target Area ===== */
.target-wrapper {
    text-align: center;
}

.target-circle {
    width: 380px;
    height: 380px;
    border-radius: 50%;
    background: linear-gradient(to bottom right, #1f3a60, #0d1f33);
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    cursor: pointer;
    overflow: hidden;
    position: relative;
}

/* ===== Boss Image ===== */
#bossImage {
    width: 90%;
    height: auto;
    pointer-events: none;
    transition: transform 0.1s ease;
}

/* Light hit */
.hit #bossImage {
    transform: scale(0.95) rotate(-3deg);
}

/* Strong combo hit */
.strong-hit #bossImage {
    transform: scale(0.88) rotate(4deg);
}

/* Defeated state */
.defeated #bossImage {
    transform: rotate(90deg) scale(0.8);
    filter: grayscale(100%);
}

/* Impact flash */
.impact-flash {
    position: absolute;
    inset: 0;
    background: rgba(255,0,0,0.25);
    opacity: 0;
    transition: opacity 0.1s;
}

/* ===== Panel ===== */
.panel {
    width: 360px;
    background: #eaeaea;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.panel h2 {
    color: #2f6fd1;
    text-align: center;
}

.progress {
    margin-top: 20px;
}

.progress-bar {
    height: 12px;
    background: #ccc;
    border-radius: 10px;
    margin-top: 5px;
}

.progress-fill {
    height: 100%;
    width: 0%;
    background: #777;
    border-radius: 10px;
    transition: width 0.2s;
}

.stats {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
}

.stat-box {
    width: 100px;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    font-weight: bold;
}

.blue { background: #c8d8f2; }
.yellow { background: #f2e9c8; }
.purple { background: #e1d4f2; }

.reset-btn {
    margin-top: 30px;
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    border: 1px solid #ccc;
    background: #f4f4f4;
    cursor: pointer;
}

/* ===== Modal ===== */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.4);
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-content {
    width: 420px;
    background: white;
    padding: 30px;
    border-radius: 20px;
}

.start-btn {
    margin-top: 20px;
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    background: #000;
    color: white;
    border: none;
    cursor: pointer;
}
/* ===== Selection Container ===== */
.selection-container {
    max-width: 700px;
    margin: 40px auto;
    padding: 30px;
    background: #f5f5f5;
    border-radius: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    text-align: center;
}

.selection-container h2 {
    margin-bottom: 20px;
}

.character-grid {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
}

.character-grid button {
    padding: 12px 20px;
    border-radius: 20px;
    border: none;
    background: #1f3a60;
    color: white;
    cursor: pointer;
    transition: 0.3s;
}

.character-grid button:hover {
    background: #2f6fd1;
    transform: translateY(-2px);
}


</style>
</head>

<body>
   <!-- ===== Character Selection Section ===== -->
<div class="selection-container">

    <h2>Select Who You're Angry With</h2>

    <div class="character-grid">
        <button onclick="selectCharacter('boss')">üëî Boss</button>
        <button onclick="selectCharacter('partner')">üíû Partner</button>
        <button onclick="selectCharacter('friend')">ü§ù Friend</button>
        <button onclick="selectCharacter('myself')">ü™û Myself</button>
        <button onclick="selectCharacter('enemy')">‚öî Enemy</button>
    </div>

</div>

<h1>Anger Release</h1>
<p class="subtitle">Tap to release your stress and anger!</p>

<div class="main-container">

<div class="target-wrapper">
<h2>Your Anger Target</h2>

<div class="target-circle" id="target">
    <img id="bossImage" src="pictures/boss.jpg">
    <div class="impact-flash" id="flash"></div>
</div>

</div>

<div class="panel">
<h2>Building up...</h2>

<div class="progress">
Target Exhaustion <span id="percent">0%</span>
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
</div>

<div class="stats">
<div class="stat-box blue">
<div id="totalTaps">0</div>
Total Taps
</div>

<div class="stat-box yellow">
<div id="tps">0.0</div>
Taps/Sec
</div>

<div class="stat-box purple">
<div id="maxCombo">0</div>
Max Combo
</div>
</div>

<button class="reset-btn" onclick="resetAll()">‚ü≥ Reset</button>
</div>

</div>

<script>

let total = 0;
let combo = 0;
let maxCombo = 0;
let lastTap = 0;
let exhaustion = 0;
let currentCharacter = "boss";

const target = document.getElementById("target");
const flash = document.getElementById("flash");
const imageElement = document.getElementById("bossImage");

/* Character Image Map */
const characterImages = {
    boss: "pictures/boss.jpg",
    partner: "pictures/partner.jpg",
    friend: "pictures/friend.jpg",
    myself: "myself.jpg",
    enemy: "enemy.jpg"
};

/* ===== Select Character ===== */
function selectCharacter(type) {

    currentCharacter = type;

    if(characterImages[type]){
        imageElement.src = characterImages[type];
        imageElement.style.display = "block";
    }

    resetStats();
    closeModal();
}

/* ===== Hit Logic ===== */
target.addEventListener("click", () => {

    if (exhaustion >= 100) return;

    total++;
    exhaustion += 2;
    if (exhaustion > 100) exhaustion = 100;

    document.getElementById("progressFill").style.width = exhaustion + "%";
    document.getElementById("percent").innerText = exhaustion + "%";
    document.getElementById("totalTaps").innerText = total;

    let now = Date.now();
    combo = (now - lastTap < 500) ? combo + 1 : 1;
    lastTap = now;

    if (combo > maxCombo) {
        maxCombo = combo;
        document.getElementById("maxCombo").innerText = maxCombo;
    }

    document.getElementById("tps").innerText = combo.toFixed(1);

    // Hit animation
    if (combo > 10) {
        target.classList.add("strong-hit");
    } else {
        target.classList.add("hit");
    }

    flash.style.opacity = "1";
    setTimeout(() => flash.style.opacity = "0", 80);

    setTimeout(() => {
        target.classList.remove("hit");
        target.classList.remove("strong-hit");
    }, 120);

    if (exhaustion >= 100) {
        target.classList.add("defeated");
    }

});

/* ===== Reset ===== */
function resetAll() {
    resetStats();
}

function resetStats(){
    total = 0;
    combo = 0;
    maxCombo = 0;
    exhaustion = 0;

    document.getElementById("totalTaps").innerText = 0;
    document.getElementById("maxCombo").innerText = 0;
    document.getElementById("tps").innerText = "0.0";
    document.getElementById("progressFill").style.width = "0%";
    document.getElementById("percent").innerText = "0%";

    target.classList.remove("defeated");
}

/* ===== Modal ===== */
function openModal() {
    document.getElementById("modal").style.display = "flex";
}

function closeModal() {
    document.getElementById("modal").style.display = "none";
}

</script>

</body>
</html>
